name: Build Backup Operator       # Name of workflow
on: [push]
jobs:
  Tests:                          # Name of job 
    runs-on: ubuntu-20.04
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-go@v2
        with:
          go-version: '^1.16.5'
      - uses: engineerd/setup-kind@v0.5.0
        with:
          version: 'v0.9.0'
      - run: echo "🐧 🐸 🐸 🐸 Damudda 🎉"
      - run: make kind-create
      - run: make test
    #services:
    #  docker:
    #    image: "docker:20"
    #env:
    #  DOCKER_TLS_CERTDIR: ""
    #  DOCKER_HOST: "tcp://docker:2375"
  Lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-go@v2
        with:
          go-version: '^1.16.5'
      - run: make lint 
